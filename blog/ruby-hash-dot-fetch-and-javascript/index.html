<!DOCTYPE html>
<html lang="en"><!DOCTYPE html>
<html lang="en">
  <meta charset="utf-8">
  <link type="text/plain" rel="author" href="https://www.stephenaument.com/humans.txt" />
  <meta name="ROBOTS" content="NOODP" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <meta name="description" content="In a previouspost Imentioned a case in which I had a Haml template in a Rails app with Javascriptin it. The template was rendering Ruby values into what woul..."><link rel="canonical" href="https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/"><link rel="next" href="https://www.stephenaument.com/blog/null-object-part-2/" title="Null Object Part 2"><link rel="prev" href="https://www.stephenaument.com/blog/the-null-object-pattern-and-method-missing-in-ruby/" title="The Null Object Pattern and method_missing in Ruby"><!-- Twitter card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@saument">
  <meta name="twitter:creator" content="@saument">
  <meta name="twitter:title" content="Ruby Hash#fetch and Javascript">
  <meta name="twitter:description" content="In a previouspost Imentioned a case in which I had a Haml template in a Rails app with Javascriptin it. The template was rendering Ruby values into what woul...">
  <meta name="twitter:image" content="https://www.stephenaument.com/assets/images/hero/mitchell-orr-389605-unsplash.jpg">
  <meta name="twitter:url" content="https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/">

  <!-- Open graph -->
  <meta property="og:title" content="Ruby Hash#fetch and Javascript">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/">
  <meta property="og:image" content="https://www.stephenaument.com/assets/images/hero/mitchell-orr-389605-unsplash.jpg">
  <meta property="og:description" content="In a previouspost Imentioned a case in which I had a Haml template in a Rails app with Javascriptin it. The template was rendering Ruby values into what woul...">
  <meta property="og:site_name" content="">
  <meta property="og:locale" content=""><meta property="article:modified_time" content="2014-03-06T19:21:15-06:00">
    <meta property="article:published_time" content="2014-03-06T19:21:15-06:00">
    <meta property="article:author" content="https://www.facebook.com/"><meta property="og:see_also" content="https://www.stephenaument.com/blog/underpromise-overdeliver/"><meta property="og:see_also" content="https://www.stephenaument.com/blog/backbone-collection-testing-gotcha/"><meta property="og:see_also" content="https://www.stephenaument.com/blog/null-object-part-2/"><meta property="article:section" content="Intermediate Ruby"><meta property="article:tag" content="code"><meta property="fb:admins" content="">
  <meta property="fb:app_id" content="">

  <title>Ruby Hash#fetch and Javascript &middot; Stephen Aument</title><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Ruby Hash#fetch and Javascript | Stephen Aument</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Ruby Hash#fetch and Javascript" />
<meta name="author" content="Step Aument" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In a previous post I mentioned a case in which I had a Haml template in a Rails app with Javascript in it. The template was rendering Ruby values into what would become a JSON object (Javascript Hash) in the browser. In that particular case, a method call on a Null Object was returning nil and breaking the Javascript." />
<meta property="og:description" content="In a previous post I mentioned a case in which I had a Haml template in a Rails app with Javascript in it. The template was rendering Ruby values into what would become a JSON object (Javascript Hash) in the browser. In that particular case, a method call on a Null Object was returning nil and breaking the Javascript." />
<link rel="canonical" href="https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/" />
<meta property="og:url" content="https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/" />
<meta property="og:site_name" content="Stephen Aument" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2014-03-06T19:21:15-06:00" />
<script type="application/ld+json">
{"url":"https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/","headline":"Ruby Hash#fetch and Javascript","dateModified":"2014-03-06T19:21:15-06:00","datePublished":"2014-03-06T19:21:15-06:00","author":{"@type":"Person","name":"Step Aument"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/"},"description":"In a previous post I mentioned a case in which I had a Haml template in a Rails app with Javascript in it. The template was rendering Ruby values into what would become a JSON object (Javascript Hash) in the browser. In that particular case, a method call on a Null Object was returning nil and breaking the Javascript.","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/assets/main-99f61261be587cda82d3d139c62366ef7013d195d76fd3d4e7989b32673eca59.css" integrity="sha256-mfYSYb5YfNqC09E5xiNm73AT0ZXXb9PU55ibMmc+ylk=" crossorigin="anonymous">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">

  <!-- modernizer -->
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>

  <!--[if lt IE 9]>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
  <![endif]-->

  <!--[if (gte IE 6)&(lte IE 8)]>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/respond.js/1.3.0/respond.js"></script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/selectivizr/1.0.2/selectivizr-min.js"></script>
  <![endif]-->

  <script type="text/javascript" src="//code.jquery.com/jquery-1.12.4.min.js"></script><link type="application/atom+xml" rel="alternate" href="https://www.stephenaument.com/feed.xml" title="Stephen Aument" /><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-126696590-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-126696590-1');
</script>

</head>
<body class="_posts/2014-03-06-ruby-hash-dot-fetch-and-javascript"><input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox"><nav role="navigation" class="sidebar sidebar--right">
  <a href="" class="textLogo textLogo--white textLogo--sidebar"></a>
  <ul class="sidebar-recentPosts">
    
      
      <li>
        
          <a href="/blog/underpromise-overdeliver/" class="sidebar-recentPosts-image-wrapper">
            <img src="/assets/images/hero/ambition-pearwood.jpg" style="" alt="">
          </a>
        
        <a href="/blog/underpromise-overdeliver/">Underpromise. Overdeliver.</a>
        <div class="postMeta">28 Sep 2018</div>
      </li>
      
    
      
      <li>
        
          <a href="/blog/backbone-collection-testing-gotcha/" class="sidebar-recentPosts-image-wrapper">
            <img src="/assets/images/hero/anita-jankovic-730367-unsplash.jpg" style="" alt="">
          </a>
        
        <a href="/blog/backbone-collection-testing-gotcha/">Backbone Collection Testing Gotcha</a>
        <div class="postMeta">12 Mar 2014</div>
      </li>
      
    
      
      <li>
        
          <a href="/blog/null-object-part-2/" class="sidebar-recentPosts-image-wrapper">
            <img src="/assets/images/hero/bath-duck-close-up-cute-592677.jpg" style="" alt="">
          </a>
        
        <a href="/blog/null-object-part-2/">Null Object Part 2</a>
        <div class="postMeta">11 Mar 2014</div>
      </li>
      
    
      
        <!-- exclude current post -->
      
    
      
      <li>
        
          <a href="/blog/the-null-object-pattern-and-method-missing-in-ruby/" class="sidebar-recentPosts-image-wrapper">
            <img src="/assets/images/hero/braydon-anderson-105552-unsplash.jpg" style="" alt="">
          </a>
        
        <a href="/blog/the-null-object-pattern-and-method-missing-in-ruby/">The Null Object Pattern and method_missing in Ruby</a>
        <div class="postMeta">05 Mar 2014</div>
      </li>
      
    
  </ul>
</nav>

<nav class="menuWrapper">
  <ul class="popover popover--menu">
    <li class="menu-avatar">
      <a href="/" class="brand_logo brand_logo--small
      
      "></a>
    </li>
  </ul>
</nav>

<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">
  <header class="post_header">
    <div class="post_header_image">
      
          <img class="" src="/assets/images/hero/mitchell-orr-389605-unsplash.jpg" style="top:-200px;" alt="">
      
    </div>
    <div class="section-gradient
    section-gradient--darker"></div>

    <div class="title_block">
      <h1 class="post_title" itemprop="name headline">Ruby Hash#fetch and Javascript</h1>
      <ul class="post_meta">
        <li class="date">
          <time class="dt-published" datetime="2014-03-06T19:21:15-06:00" itemprop="datePublished">Mar 6, 2014
          </time>
        </li><li class="author">
            By Step Aument
          </li><li class="tags">
          Intermediate Ruby | Javascript
        </li>
      </ul>
    </div>
  </header>

  <div class="post_content_container">
    <div class="post_content" itemprop="articleBody">
      <p>In a <a href="/blog/2014/03/05/the-null-object-pattern-and-method-missing-in-ruby/">previous
post</a> I
mentioned a case in which I had a Haml template in a Rails app with Javascript
in it. The template was rendering Ruby values into what would become a JSON
object (Javascript Hash) in the browser. In that particular case, a method call
on a Null Object was returning nil and breaking the Javascript.</p>

<p>Well, today I encountered another variation of this problem. In this case, I
had a Ruby Hash feeding values into the JSON object. It looked like this:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><div class="line-1"><span class="n">var</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{</span></div><div class="line-2">  <span class="s2">"gender"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">search_params</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-3">  <span class="s2">"age"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">current_user</span><span class="p">.</span><span class="nf">age</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-4">  <span class="s2">"language"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">search_params</span><span class="p">[</span><span class="s1">'language'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-5">  <span class="s2">"query"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">search_params</span><span class="p">[</span><span class="s1">'query'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-6">  <span class="s2">"properties"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">search_params</span><span class="p">[</span><span class="s1">'properties'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span></div><div class="line-7"><span class="p">};</span></div></code></pre></figure>

<p>Two of these fields on the ruby hash are empty: <code class="highlight language-ruby" data-lang="ruby"><span class="n">language</span></code> and <code class="highlight language-ruby" data-lang="ruby"><span class="n">properties</span></code>.
Notice that this isn’t a problem for most of these fields, but for one it is:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><div class="line-1"><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span></div><div class="line-2">  <span class="s2">"gender"</span><span class="p">:</span> <span class="s2">"M"</span><span class="p">,</span></div><div class="line-3">  <span class="s2">"age"</span><span class="p">:</span> <span class="s2">"27"</span><span class="p">,</span></div><div class="line-4">  <span class="s2">"language"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span></div><div class="line-5">  <span class="s2">"query"</span><span class="p">:</span> <span class="s2">"specials"</span><span class="p">,</span>                                                                                                                  </div><div class="line-6">  <span class="s2">"properties"</span><span class="p">:</span> </div><div class="line-7"><span class="p">};</span></div></code></pre></figure>

<p>See that? The first four fields feed into double quotes as strings. If they are
empty, they are empty. It may cause an issue somewhere down the line, but the
Javascript itself is valid.</p>

<p>The <code class="highlight language-ruby" data-lang="ruby"><span class="n">properties</span></code> field, on the other hand is expecting a JSON object. That
missing bit will cause Javascript to blow up once this loads in the browser.</p>

<p>What’s the solution here? In this case, I turned to <code class="highlight language-ruby" data-lang="ruby"><span class="no">Hash</span><span class="c1">#fetch</span></code> rather than
the <code class="highlight language-ruby" data-lang="ruby"><span class="p">[]</span></code> accessor. What’s the difference? There are two main differences
between the bracket accessor and the <code class="highlight language-ruby" data-lang="ruby"><span class="n">fetch</span></code> method. First,
<code class="highlight language-ruby" data-lang="ruby"><span class="n">my_hash</span><span class="p">[</span><span class="ss">:some_missing_key</span><span class="p">]</span></code> will return <code class="highlight language-ruby" data-lang="ruby"><span class="kp">nil</span></code> if the key is not found in the
hash. If <code class="highlight language-ruby" data-lang="ruby"><span class="n">my_hash</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:some_missing_key</span><span class="p">)</span></code> can’t find a key, it will raise a
<code class="highlight language-ruby" data-lang="ruby"><span class="no">KeyError</span></code> exception.</p>

<p>That’s not really what we are looking for, which brings me to the second
difference. <code class="highlight language-ruby" data-lang="ruby"><span class="no">Hash</span><span class="c1">#fetch</span></code> takes an optional second argument which specifies a
default value. So if we call <code class="highlight language-ruby" data-lang="ruby"><span class="n">my_hash</span><span class="p">.</span><span class="nf">fetch</span><span class="p">(</span><span class="ss">:some_missing_key</span><span class="p">,</span> <span class="s1">'tacos'</span><span class="p">)</span></code> and
the key is not found in the hash, it will return <code class="highlight language-ruby" data-lang="ruby"><span class="s1">'tacos'</span></code> instead of <code class="highlight language-ruby" data-lang="ruby"><span class="kp">nil</span></code>.
That’s exactly what I needed. I returned an empty JSON object <code class="highlight language-ruby" data-lang="ruby"><span class="p">{}</span></code> as the
default.</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><div class="line-1"><span class="n">var</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{</span></div><div class="line-2">  <span class="s2">"gender"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">search_params</span><span class="p">[</span><span class="s1">'gender'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-3">  <span class="s2">"age"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">current_user</span><span class="p">.</span><span class="nf">age</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-4">  <span class="s2">"language"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">search_params</span><span class="p">[</span><span class="s1">'language'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-5">  <span class="s2">"query"</span><span class="p">:</span> <span class="s2">"</span><span class="si">#{</span><span class="n">search_params</span><span class="p">[</span><span class="s1">'query'</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span></div><div class="line-6">  <span class="s2">"properties"</span><span class="p">:</span> <span class="c1">#{search_params.fetch('properties', {})}</span></div><div class="line-7"><span class="p">};</span></div></code></pre></figure>

<p>This degraded nicely in the cases in which I had no <code class="highlight language-ruby" data-lang="ruby"><span class="n">properties</span></code> hash in my
<code class="highlight language-ruby" data-lang="ruby"><span class="n">search_params</span></code> hash.</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><div class="line-1"><span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span></div><div class="line-2">  <span class="s2">"gender"</span><span class="p">:</span> <span class="s2">"M"</span><span class="p">,</span></div><div class="line-3">  <span class="s2">"age"</span><span class="p">:</span> <span class="s2">"27"</span><span class="p">,</span></div><div class="line-4">  <span class="s2">"language"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span></div><div class="line-5">  <span class="s2">"query"</span><span class="p">:</span> <span class="s2">"specials"</span><span class="p">,</span>                                                                                                            </div><div class="line-6">  <span class="s2">"properties"</span><span class="p">:</span> <span class="p">{}</span></div><div class="line-7"><span class="p">};</span></div></code></pre></figure>

<p>No more broken Javascript.</p>

    </div>
  </div>

  <div class="post_footer">
    <section class="subscribe">
  <div class="container"><script src="https://f.convertkit.com/ckjs/ck.5.js"></script>
<form action="https://app.convertkit.com/forms/741867/subscriptions" class="seva-form formkit-form" method="post" data-sv-form="741867" data-uid="697093712f" data-format="inline" data-version="5" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;success_message&quot;:&quot;Success! Now check your email to confirm your subscription.&quot;,&quot;redirect_url&quot;:&quot;&quot;},&quot;modal&quot;:{&quot;trigger&quot;:null,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:null,&quot;devices&quot;:null,&quot;show_once_every&quot;:null},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:&quot;&quot;},&quot;slide_in&quot;:{&quot;display_in&quot;:null,&quot;trigger&quot;:null,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:null,&quot;devices&quot;:null,&quot;show_once_every&quot;:null}}}" min-width="800" style="background-color: rgb(255, 255, 255); border-radius: 4px;">
  <div data-style="minimal">
    <h1 class="formkit-header" data-element="header">Stay in touch</h1>
    <div data-element="subheader" class="formkit-subheader" style="color: rgb(104, 104, 104); font-size: 18px;">
      <p>Hi, I'm Step. I write about code, teams, workflow, and entrepreneurship. I also make things you might want to know about.</p>
    </div>
    <ul data-element="errors" data-group="alert"></ul>
    <div data-element="fields" data-stacked="true" class="seva-fields formkit-fields">
      <div class="formkit-field">
        <input class="formkit-input" aria-label="First Name" name="fields[first_name]" placeholder="First Name" type="text" style="border-color: rgb(227, 227, 227); border-radius: 4px; color: rgb(0, 0, 0); font-weight: 400;">
      </div>
      <div class="formkit-field">
        <input class="formkit-input" name="email_address" placeholder="Your email address" required="" type="email" style="border-color: rgb(227, 227, 227); border-radius: 4px; color: rgb(0, 0, 0); font-weight: 400;">
      </div>
      <button data-element="submit" class="formkit-submit" style="background-color: rgb(22, 119, 190); border-radius: 4px; color: rgb(255, 255, 255); font-weight: 400;">
        <span>Get New Blog Posts By Email</span>
      </button>
    </div>
    <div data-element="guarantee" class="formkit-guarantee" style="color: rgb(77, 77, 77); font-size: 13px; font-weight: 400;">
      <p class="no_spam">I won't send you spam. Unsubscribe at any time.</p>
    </div>
    <a href="https://convertkit.com/?utm_source=dynamic&amp;utm_medium=referral&amp;utm_campaign=poweredby&amp;utm_content=form" class="formkit-powered-by" data-element="powered-by" target="_blank">Powered By ConvertKit</a>
  </div>
  <style>
    .formkit-form[data-uid="697093712f"] *{font-family:"Helvetica Neue",Helvetica,Arial,Verdana,sans-serif;box-sizing:border-box;}.formkit-form[data-uid="697093712f"] legend{border:none;font-size:inherit;margin-bottom:10px;padding:0;position:relative;display:table;}.formkit-form[data-uid="697093712f"] fieldset{border:0;padding:0.01em 0 0 0;margin:0;min-width:0;}.formkit-form[data-uid="697093712f"] body:not(:-moz-handler-blocked) fieldset{display:table-cell;}.formkit-form[data-uid="697093712f"] p{color:inherit;font-size:inherit;font-weight:inherit;}.formkit-form[data-uid="697093712f"][data-format="modal"]{display:none;}.formkit-form[data-uid="697093712f"][data-format="slide in"]{display:none;}.formkit-form[data-uid="697093712f"] .formkit-input,.formkit-form[data-uid="697093712f"] .formkit-select,.formkit-form[data-uid="697093712f"] .formkit-checkboxes{width:100%;}.formkit-form[data-uid="697093712f"] .formkit-submit{border:0;border-radius:5px;color:#ffffff;cursor:pointer;display:inline-block;text-align:center;font-size:15px;font-weight:500;cursor:pointer;margin-bottom:15px;overflow:hidden;padding:0;vertical-align:middle;}.formkit-form[data-uid="697093712f"] .formkit-submit:hover,.formkit-form[data-uid="697093712f"] .formkit-submit:focus{outline:none;}.formkit-form[data-uid="697093712f"] .formkit-submit:hover > span,.formkit-form[data-uid="697093712f"] .formkit-submit:focus > span{background-color:rgba(0,0,0,0.1);}.formkit-form[data-uid="697093712f"] .formkit-submit > span{display:block;-webkit-transition:background-color 300ms ease-in-out;transition:background-color 300ms ease-in-out;padding:12px 24px;}.formkit-form[data-uid="697093712f"] input{font-size:15px;padding:12px;border:1px solid #e3e3e3;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;line-height:1.4;margin-right:15px;-webkit-transition:border-color ease-out 300ms;transition:border-color ease-out 300ms;}.formkit-form[data-uid="697093712f"] input:focus{outline:none;border-color:#1677be;-webkit-transition:border-color ease 300ms;transition:border-color ease 300ms;}.formkit-form[data-uid="697093712f"] input::-webkit-input-placeholder{color:#848585;}.formkit-form[data-uid="697093712f"] input::-moz-placeholder{color:#848585;}.formkit-form[data-uid="697093712f"] input:-ms-input-placeholder{color:#848585;}.formkit-form[data-uid="697093712f"] input::placeholder{color:#848585;}.formkit-form[data-uid="697093712f"] [data-group="dropdown"]{position:relative;display:inline-block;width:100%;}.formkit-form[data-uid="697093712f"] [data-group="dropdown"]::before{content:"";top:calc(50% - 2.5px);right:10px;position:absolute;pointer-events:none;border-color:#333333 transparent transparent transparent;border-style:solid;border-width:6px 5px 0 5px;height:0;width:0;}.formkit-form[data-uid="697093712f"] [data-group="dropdown"] select{height:auto;width:100%;cursor:pointer;color:#333333;line-height:1.4;margin-bottom:0;padding:0 6px;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-size:15px;padding:12px;padding-right:25px;border:1px solid #e3e3e3;background:#ffffff;}.formkit-form[data-uid="697093712f"] [data-group="dropdown"] select:focus{outline:none;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"]{text-align:left;margin-bottom:20px;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"]{margin-bottom:10px;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] *{cursor:pointer;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"]:last-of-type{margin-bottom:0;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]{display:none;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"] + label::after{content:none;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked + label::after{border-color:#ffffff;content:"";}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] input[type="checkbox"]:checked + label::before{background:#10bf7a;border-color:#10bf7a;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] label{position:relative;display:inline-block;padding-left:28px;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] label::before,.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] label::after{position:absolute;content:"";display:inline-block;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] label::before{height:16px;width:16px;border:1px solid #e3e3e3;background:#ffffff;left:0px;top:3px;}.formkit-form[data-uid="697093712f"] [data-group="checkboxes"] [data-group="checkbox"] label::after{height:4px;width:8px;border-left:2px solid #4d4d4d;border-bottom:2px solid #4d4d4d;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);left:4px;top:8px;}.formkit-form[data-uid="697093712f"] [data-group="alert"]{padding:12px;border:1px solid #e3e3e3;background:#f9fafb;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;border-radius:5px;margin:25px auto;text-align:center;width:80%;}.formkit-form[data-uid="697093712f"] [data-group="alert"]:empty{display:none;}.formkit-form[data-uid="697093712f"] [data-group="alert"][data-element="success"]{background:#d3fbeb;border-color:#10bf7a;color:#0c905c;}.formkit-form[data-uid="697093712f"] [data-group="alert"][data-element="errors"]{background:#fde8e2;border-color:#f2643b;color:#ea4110;} .formkit-form[data-uid="697093712f"]{text-align:center;color:#686868;border:1px solid #e3e3e3;border-radius:8px;box-sizing:border-box;background-size:cover;background-repeat:no-repeat;background-position:center;max-width:800px;}.formkit-form[data-uid="697093712f"] [data-style="minimal"]{padding:25px;width:100%;}.formkit-form[data-uid="697093712f"] [data-element="header"]{margin-top:0;margin-bottom:27px;}.formkit-form[data-uid="697093712f"] [data-element="subheader"]{margin:18px 0;}.formkit-form[data-uid="697093712f"] [data-element="guarantee"]{font-size:13px;}.formkit-form[data-uid="697093712f"] [data-element="fields"]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:25px auto 0 auto;}.formkit-form[data-uid="697093712f"] [data-element="fields"] > *{margin:0 0 15px 0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;}.formkit-form[data-uid="697093712f"] [data-element="fields"][data-stacked="true"] > *{margin:0 0 15px 0;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;}.formkit-form[data-uid="697093712f"] [data-element="fields"][data-stacked="true"] > *:last-child{margin:0;}.formkit-form[data-uid="697093712f"] [data-element="powered-by"]{color:#7d7d7d;display:block;font-size:12px;margin-bottom:0;margin-top:25px;}.formkit-form[data-uid="697093712f"] [data-element="powered-by"][data-active="false"]{opacity:0.5;}.formkit-form[data-uid="697093712f"][min-width~="500"] [data-style="minimal"],.formkit-form[data-uid="697093712f"][min-width~="600"] [data-style="minimal"],.formkit-form[data-uid="697093712f"][min-width~="700"] [data-style="minimal"],.formkit-form[data-uid="697093712f"][min-width~="800"] [data-style="minimal"]{padding:40px;}.formkit-form[data-uid="697093712f"][min-width~="500"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] > *,.formkit-form[data-uid="697093712f"][min-width~="600"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] > *,.formkit-form[data-uid="697093712f"][min-width~="700"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] > *,.formkit-form[data-uid="697093712f"][min-width~="800"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] > *{margin:0 15px 15px 0;-webkit-box-flex:none;-webkit-flex-grow:none;-ms-flex-positive:none;flex-grow:none;-webkit-flex-shrink:none;-ms-flex-negative:none;flex-shrink:none;-webkit-flex-basis:auto;-ms-flex-preferred-size:auto;flex-basis:auto;}.formkit-form[data-uid="697093712f"][min-width~="500"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] [data-element="submit"],.formkit-form[data-uid="697093712f"][min-width~="600"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] [data-element="submit"],.formkit-form[data-uid="697093712f"][min-width~="700"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] [data-element="submit"],.formkit-form[data-uid="697093712f"][min-width~="800"] [data-style="minimal"] [data-element="fields"][data-stacked="false"] [data-element="submit"]{-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;margin-right:0;}
</style>
</form>
</div>
</section>
<div id="disqus_thread"></div>
<script>

  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

/*
   var disqus_config = function () {
   this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
   this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
   };
   */
var disqus_config = function() {
  this.page.url = "https://www.stephenaument.com/blog/ruby-hash-dot-fetch-and-javascript/";
  this.page.identifier = "/blog/ruby-hash-dot-fetch-and-javascript/";
};
// var disqus_developer = 1;

(function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = "https://www-stephenaument-com.disqus.com/embed.js";
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<p class="photo_credit">Photo by Mitchell Orr on Unsplash</p>
  </div>

  <footer>
    
      <div class='post_featured_image'>
        <img class="post-featuredImage"
          
            src="/assets/images/hero/braydon-anderson-105552-unsplash.jpg"
          style="top:-420px;"alt="">
      </div>
      <div class="section-gradient
      
        section-gradient--darker
      
      "></div>
      <div class="container">
        <h4>Next story:</h4>
        <a class="prev" href="/blog/the-null-object-pattern-and-method-missing-in-ruby/">
          <h2>The Null Object Pattern and method_missing in Ruby</h2>
        </a>
      </div>
    
  </footer>
  <a class="u-url" href="/blog/ruby-hash-dot-fetch-and-javascript/" hidden></a>
</article>

<div class="modal-toggle-group animate scaleIn">
  <div class="modal-toggle-bubbleShadow"></div>
  <div class="modal-toggle-bubble"></div>
  <div class="modal-toggle-wrapper"></div>
  <div class="modal-toggle-close-wrapper">
    <div class="modal-toggle-close"></div>
  </div>
</div>

<div class="fullscreenModal">
  <div class="share_container">
    <h2 class="h2--shareTitle">Share this story</h2>
    <ul class="shareWrapper">
      <li><a class="shareButton shareButton--twitter" href="https://twitter.com/intent/tweet?text=Ruby Hash#fetch and Javascript by @saument&url=https%3A%2F%2Fwww.stephenaument.com%2Fblog%2Fruby-hash-dot-fetch-and-javascript%2F" target="_blank"></a></li>
      <li><a class="shareButton shareButton--facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.stephenaument.com%2Fblog%2Fruby-hash-dot-fetch-and-javascript%2F" target="_blank"></a></li>
      <li><a class="shareButton shareButton--linkedin" href="https://www.linkedin.com/shareArticle
?mini=true&url=https%3A%2F%2Fwww.stephenaument.com%2Fblog%2Fruby-hash-dot-fetch-and-javascript%2F&title=Ruby Hash#fetch and Javascript"  target="_blank"></a></li>
      <li><a class="shareButton shareButton--buffer" href="https://buffer.com/add?text=Ruby Hash#fetch and Javascript by @saument&url=https%3A%2F%2Fwww.stephenaument.com%2Fblog%2Fruby-hash-dot-fetch-and-javascript%2F" target="_blank"></a></li>
      <li><a class="shareButton shareButton--hackernews" href="http://news.ycombinator.com/submitlink?u=https%3A%2F%2Fwww.stephenaument.com%2Fblog%2Fruby-hash-dot-fetch-and-javascript%2F&t=Ruby Hash#fetch and Javascript" target="_blank"></a></li>
      <li><a class="shareButton shareButton--pocket" href="https://getpocket.com/save?url=https%3A%2F%2Fwww.stephenaument.com%2Fblog%2Fruby-hash-dot-fetch-and-javascript%2F&title=Ruby Hash#fetch and Javascript" target="_blank"></a></li>
    </ul>
  </div>
</div>


      </div>
    </main><label for="sidebar-checkbox" class="sidebar-toggle-wrapper">
  <div class="sidebar-toggle"></div>
</label>

<!-- Javascript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="/assets/javascript/imagesloaded.pkgd.min.js"></script><script integrity="sha256-47DEQpj8HBSa+/TImW+5JCeuQeRkm5NMpJWZG3hSuFU=" crossorigin="anonymous" src="/assets/main-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.js" type="text/javascript"></script><script>
  $(document).ready(function(){

    // Featured image loaded behavior
    $('.post_header_image img').imagesLoaded()
      .done( function( instance ) {
        $('.post_header_image').addClass('is-loaded');
      });

    // Modal toggle behavior
    $('.modal-toggle-wrapper').click(function() {
    	$(this).toggleClass('active');
      $('.modal-toggle-bubble').toggleClass('active');
    	$('.modal-toggle-bubbleShadow').toggleClass('active');
      $('.modal-toggle-close-wrapper').toggleClass('active');
      $('.fullscreenModal').toggleClass('active');
    });

    // Prevent default anchor event and make a share popup
    $.fn.sharePopup = function (e, intWidth, intHeight, blnResize) {

      e.preventDefault();
      intWidth = intWidth || '750';
      intHeight = intHeight || '500';
      strResize = (blnResize ? 'yes' : 'no');

      //// Set title and open popup with focus on it
      var strTitle = ((typeof this.attr('title') !== 'undefined') ? this.attr('title') : 'Social Share'),
          strParam = 'width=' + intWidth + ',height=' + intHeight + ',resizable=' + strResize,
          objWindow = window.open(this.attr('href'), strTitle, strParam).focus();
    }

    $('.shareButton').on("click", function(e) {
      $(this).sharePopup(e);
    });
  });

  // Show modal toggle after scrolling 300px
  $(document).scroll(function() {
    $('.modal-toggle-group').toggleClass('active', $(document).scrollTop() >= 300);
  });
</script>
</body>

</html>
